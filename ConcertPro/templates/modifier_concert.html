{% extends 'base.html' %}
{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/modif.css')}}"> 
{% endblock %}
{% block content %}
<h2>{{ concert[1] }}</h2>
<div class="container">
    <form method="POST" action="{{ url_for('confirmer_modif_concert', id_concert=concert[0], nom_concert=concert[1]) }}" enctype="multipart/form-data">
        <div class="container">
            <input type="file" name="image" id="image-input">
            <script src="{{ url_for('static', filename='js/charge_img.js') }}"></script>
            {% if concert[-1] is none %}
            <img id="image-charge" class="img_acc"  src="" alt="Glisser/Déposer une image">
            {% else %}
            <img id="image-charge" class="img_acc" src="{{ url_for('static', filename='images/concerts/' + concert[0]|str + '.jpg') }}" alt="image pas réussi à charger">
            {% endif %}
        </div>
        <label for="nom_concert">Nom du concert :</label>
        <input type="textfield" id="nom_concert" name="nom_concert" required value="{{ concert[1] }}" maxlength="42">
        <label for="artiste">Artiste</label>
        <select name="artiste">
            {% for a in artistes %}
                <option value="{{ a[0] }}" {% if concert[4] == a[0] %}selected{% endif %}>
                    {{ a[3] }} {{ a[4] }}
                </option>
            {% endfor %}
        </select>
        <input type="hidden" name="ancien_artiste" value="{{ concert[4] }}">
        <label for="logement">Logement de l'artiste :</label>
        <select name="logement">
            {% for l in logements %}
                <option value="{{ l[0] }}" {% if logement_artiste[0] == l[0] %}selected{% endif %}>
                    {{ l[2] }}
                </option>
            {% endfor %}
        </select>
        <label for="nuits">Nombre de nuits :</label>
        <input type="number" id="nuits" name="nuits" required value="{{ logement_artiste[2] }}" min="0">
        <label for="salle">Salle :</label>
        <select name="salle">
            {% for salle in salles %}
                <option value="{{ salle[0] }}" {% if concert[5] == salle[0] %}selected{% endif %}>
                    {{ salle[3] }} 
                </option>
            {% endfor %}
        </select>
        <label for="date_heure_concert">Date et heure du concert :</label>
        <input type="textfield" id="date_heure_concert" name="date_heure_concert" required value="{{ concert[2] }}">
        <label for="duree_concert">La durée du concert :</label>
        <input type="textfield" id="duree_concert" name="duree_concert" required value="{{ concert[3] }}">
        <label for="description_concert">Description du concert :</label>
        <input type="textfield" id="description_concert" name="description_concert" required value="{{ concert[6] }}" maxlength="500">
        <button type="submit">Appliquer les modifications</button>
    </form>
</div>
<div class="annuler">
    <a href="{{ url_for('concert', id=concert[0]) }}">Annuler les modifications</a>
</div>
{% endblock %}